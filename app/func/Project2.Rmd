---
title: "Project_2"
output: html_document
date: "2024-04-03"
---

```{r setup, include=FALSE}
library(readxl)
condodata <- read.csv("condo_alldistrict.csv")
hdbdata <- read.csv("ResaleflatpricesbasedonregistrationdatefromJan2017onwards.csv")
district <- read.xlsx("district.xlsx")
```

```{r}
library(stringr)
library(tidyverse)

hdbdata$town <- str_to_title(tolower(hdbdata$town))
merged_hdb <- merge(hdbdata,district,by="town",all.x=TRUE)

merged_hdb$category <- case_when(
  merged_hdb$district %in% c(1, 2, 6, 9, 10, 11) ~ "CCR",
  merged_hdb$district %in% c(3, 4, 5, 7, 8, 12, 13, 14, 15, 20) ~ "RCR",
  merged_hdb$district %in% c(16, 17, 18, 19, 21, 22, 23, 24, 25, 26, 27, 28) ~ "OCR",
  TRUE ~ NA_character_ # Catch-all for unmatched cases
)
```

```{r}
library(openxlsx)
write.xlsx(merged_hdb,file="final_hdb.xlsx")
```